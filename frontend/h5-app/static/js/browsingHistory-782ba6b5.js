import{p as f}from"./index-25c840a0.js";import{P as _}from"./PullDownRefreshContainer-eb4714b8.js";import{_ as c}from"./RoomCard.vue_vue_type_script_setup_true_lang-7636b39d.js";import{d as h,r as l,f as m,b as g,w as p,a as n,F as v,g as N,c as y,e as u,t as w,j as b}from"./index-b744bed0.js";import"./index-beccc506.js";import"./index-ae057aef.js";import"./index-479e4c76.js";const C={class:"main-container"},L={class:"text-[12px] --van-gray-6"},T=h({__name:"browsingHistory",setup(R){const i=l();console.log("RoomCard.props",c);const r=l([]);async function d(o){var a;let{data:s}=await f(o);console.log("pageInfo.current",o.current);let t=s.records.map(e=>({id:e.roomId,roomNumber:e.roomNumber,rent:e.rent,graphVoList:e.roomGraphVoList,labelInfoList:[],apartmentInfo:{name:e.apartmentName||"",provinceName:e.provinceName||"",cityName:e.cityName||"",districtName:e.districtName||""},browseTime:e.browseTime}));o.current===1?r.value=t:r.value=[...r.value,...t],(a=i.value)==null||a.setFinished(r.value.length>=s.total)}return(o,s)=>(n(),m("div",C,[g(_,{request:d,ref_key:"pullDownRefreshContainerRef",ref:i,class:"min-h-[70vh]"},{default:p(()=>{var t;return[(t=r.value)!=null&&t.length?(n(!0),m(v,{key:0},N(r.value,a=>(n(),y(c,{key:a.id,data:a},{tags:p(()=>[u("div",null,[u("span",L,w(a.browseTime),1)])]),_:2},1032,["data"]))),128)):b("",!0)]}),_:1},512)]))}});export{T as default};
