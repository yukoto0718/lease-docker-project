#!/bin/bash
echo "🧹 清理GitHub上的敏感数据..."

# 删除数据备份文件
rm -rf data-backup/

# 恢复正常的.gitignore
cat > .gitignore << 'GITIGNORE_EOF'
# ==========================================
# 敏感信息文件
# ==========================================
.env
.env.local
.env.production
*.env

# ==========================================
# 数据目录（运行时生成）
# ==========================================
data/
*_data/

# ==========================================
# 日志文件
# ==========================================
*.log
logs/
*.log.*

# ==========================================
# IDE和编辑器文件
# ==========================================
.idea/
.vscode/
*.swp
*.swo
*~

# ==========================================
# 系统文件
# ==========================================
.DS_Store
Thumbs.db
*.tmp

# ==========================================
# 备份文件
# ==========================================
*.bak
*.backup
*.old

# ==========================================
# Docker运行时文件
# ==========================================
.docker/
GITIGNORE_EOF

# 提交更改
git add .
git commit -m "🧹 清理敏感数据文件，恢复标准配置"
git push origin main

echo "✅ GitHub数据清理完成！"
